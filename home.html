<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link href="fontawesome/css/fontawesome.css" rel="stylesheet" />
    <link href="fontawesome/css/brands.css" rel="stylesheet" />
    <link href="fontawesome/css/solid.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update Profil Mahasiswa</title>
    <style>
      hr {
        margin: 5px 0;
        border: 0;
        border-top: 1px solid #ccc;
      }
      .card-img-top {
        height: 200px;
        object-fit: cover;
      }
      .photo-preview {
        width: 200px;
        height: 250px;
        object-fit: cover;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <div class="row">
      <div class="col-2" style="background-color: blue; color: white">
        <h3 class="text-center my-4">
          <i class="fa-solid fa-user-circle"></i> Dashboard
        </h3>
        <br />
        <ul style="list-style: none; padding: 0; margin-left: 15px">
          <li class="my-2">
            <a href="home.html" style="color: white; text-decoration: none">
              <i class="fa-solid fa-house"></i> Beranda
            </a>
          </li>
          <li class="my-2">
            <a
              href="mahasiswa.html"
              style="color: white; text-decoration: none"
            >
              <i class="fa-solid fa-user"></i> Mahasiswa
            </a>
          </li>
          <li class="my-2">
            <a href="dosen.html" style="color: white; text-decoration: none">
              <i class="fa-solid fa-file-lines"></i> Dosen
            </a>
          </li>

          <li class="my-2">
            <div class="dropdown">
              <a
                href="#"
                class="dropdown-toggle"
                style="color: white; text-decoration: none"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fa-solid fa-gears"></i> KRS
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="isikrs.html"> Isi KRS </a>
                </li>
                <li>
                  <a class="dropdown-item" href="lihat.html"> Lihat KRS </a>
                </li>
              </ul>
            </div>
          </li>

          <li class="my-2">
            <a href="khs.html" style="color: white; text-decoration: none">
              <i class="fa-solid fa-file-lines"></i> KHS
            </a>
          </li>
          <li class="my-2">
            <a
              href="pembayaran.html"
              style="color: white; text-decoration: none"
            >
              <i class="fa-solid fa-money-bill-wave"></i> Pembayaran
            </a>
          </li>
          <li class="my-2">
            <a href="jadwal.html" style="color: white; text-decoration: none">
              <i class="fa-solid fa-calendar-days"></i> Jadwal Perkuliahan
            </a>
          </li>
          <li class="my-2">
            <a href="login.html" style="color: white; text-decoration: none">
              <i class="fa-solid fa-right-from-bracket"></i> Keluar
            </a>
          </li>
        </ul>
      </div>

      <!-- Tambahkan link Font Awesome jika belum tersedia -->
      <script
        src="https://kit.fontawesome.com/YOUR-KIT-ID.js"
        crossorigin="anonymous"
      ></script>

      <!-- Main Content -->
      <div class="col-10 p-4">
        <h5
          class="text-center py-2"
          style="background-color: rgb(143, 150, 101)"
        >
          Selamat Datang, <span id="userName">Putri Natasya Aulia</span>
        </h5>
        <p id="photoName">Putri Natasya Aulia</p>

        <!-- Display Biodata -->
        <div class="row">
          <div class="col-5">
            <div class="card" style="width: 200px; height: 250px">
              <img
                id="profilePhoto"
                src="image/t.jpg"
                class="card-img-top photo-preview"
                alt="Universitas Logo"
              />
            </div>
          </div>
          <div class="col-7" align="center">
            <h6 style="background-color: aquamarine">New Info!!!!</h6>
            <br />
            <p>
              Tata cara Pengisian KRS <br />
              <span style="color: rgb(103, 5, 5)"
                >Daftar Matakuliah Yang Ditempuh Semester Ini</span
              >
            </p>
            <br />
            <br />
            <p>Pengisian KRS mulai Tanggal</p>
            <p>18 Maret - 30 Maret 2013</p>
          </div>
        </div>
        <br />

        <div id="biodata">
          <div class="row">
            <div class="col-4"><b>NIM</b></div>
            <div class="col-8">: <span id="nim">23TI014</span></div>
          </div>
          <hr />
          <div class="row">
            <div class="col-4"><b>Nama Mahasiswa</b></div>
            <div class="col-8">
              : <span id="nama">Putri Natasya Aulia</span>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-4"><b>Alamat</b></div>
            <div class="col-8">
              : <span id="alamat">Jalan ABC No. 123</span>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-4"><b>Jurusan</b></div>
            <div class="col-8">
              : <span id="jurusan">Teknik Informatika</span>
            </div>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col-4"><b>Kelas Teori / Praktek</b></div>
          <div class="col-8">
            : <span id="jurusan">Teknik Informatika A / TI A 1</span>
          </div>
        </div>
        <br />
        <br />
        <br />
        <br />
        <h6 class="mt-4" style="color: red" align="center">Update Biodata</h6>
        <form id="updateForm">
          <div class="mb-3">
            <label for="newNim" class="form-label">NIM</label>
            <input
              type="text"
              class="form-control"
              id="newNim"
              placeholder="Masukkan NIM"
            />
          </div>
          <div class="mb-3">
            <label for="newName" class="form-label">Nama Mahasiswa</label>
            <input
              type="text"
              class="form-control"
              id="newName"
              placeholder="Masukkan Nama Mahasiswa"
            />
          </div>
          <div class="mb-3">
            <label for="newAddress" class="form-label">Alamat</label>
            <input
              type="text"
              class="form-control"
              id="newAddress"
              placeholder="Masukkan Alamat"
            />
          </div>
          <div class="mb-3">
            <label for="newDepartment" class="form-label">Jurusan</label>
            <input
              type="text"
              class="form-control"
              id="newDepartment"
              placeholder="Masukkan Jurusan"
            />
          </div>
          <div class="mb-3">
            <label for="newPhoto" class="form-label">Unggah Foto</label>
            <input
              type="file"
              class="form-control"
              id="newPhoto"
              accept="image/*"
              onchange="previewPhoto(event)"
            />
          </div>
          <button
            type="button"
            class="btn btn-primary"
            onclick="updateProfile()"
          >
            Update Profil
          </button>
        </form>
      </div>
    </div>

    <script>
      function updateProfile() {
        const nim = document.getElementById("newNim").value;
        const name = document.getElementById("newName").value;
        const address = document.getElementById("newAddress").value;
        const department = document.getElementById("newDepartment").value;
        const photoInput = document.getElementById("newPhoto");

        if (nim) document.getElementById("nim").textContent = nim;
        if (name) {
          document.getElementById("nama").textContent = name;
          document.getElementById("userName").textContent = name;
          document.getElementById("photoName").textContent = name;
        }
        if (address) document.getElementById("alamat").textContent = address;
        if (department)
          document.getElementById("jurusan").textContent = department;

        if (photoInput.files && photoInput.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("profilePhoto").src = e.target.result;
          };
          reader.readAsDataURL(photoInput.files[0]);
        }

        document.getElementById("updateForm").reset();
      }

      function previewPhoto(event) {
        const reader = new FileReader();
        reader.onload = function (e) {
          document.getElementById("profilePhoto").src = e.target.result;
        };
        reader.readAsDataURL(event.target.files[0]);
      }
    </script>
  </body>
</html>
